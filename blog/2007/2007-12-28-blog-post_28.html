---
layout: post
title: як... підключити бездротові стерео-навушники до кпк
date: '2007-12-28T12:00:00.002+02:00'
author: tivasyk
tags:
- windows
- кишеньковий пк
modified_time: '2015-12-30T14:20:57.274+02:00'
thumbnail: http://2.bp.blogspot.com/_wFmUV6FUCKU/R3TMH_1Ef3I/AAAAAAAAAp8/OBpktAnNrw8/s72-c/gear4_bluphones.png
blogger_id: tag:blogger.com,1999:blog-1498862426470895405.post-1605517805641585853
blogger_orig_url: http://www.tivasyk.info/2007/12/blog-post_28.html
---

<a href="http://2.bp.blogspot.com/_wFmUV6FUCKU/R3TMH_1Ef3I/AAAAAAAAAp8/OBpktAnNrw8/s1600-h/gear4_bluphones.png" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5148964711756496754" src="http://2.bp.blogspot.com/_wFmUV6FUCKU/R3TMH_1Ef3I/AAAAAAAAAp8/OBpktAnNrw8/s200/gear4_bluphones.png" style="cursor: pointer; float: right; margin: 0pt 0pt 10px 10px;" /></a>припустімо, у нас єсть кишеньковий пк <a href="http://www.ixbt.com/pda/dell-axim-x51v.shtml">dell axim x51v</a> (windows mobile 5) з музичною колекцією (mp3 та ogg), який ми іноді використовуємо як портативний програвач. припустімо також, що у нас є бездротові стерео-навушники (bluetooth) -- наприклад, <a href="http://www.gear4.com/product_detail.php?products_id=304">gear4 bluphones</a>. хочеться позбутися проводів, і використовувати bluetooth-навушники замість звичайних -- як їх підключити до кпк?<br /><br />наперше: операційна система windows mobile 5 не підтримує bluetooth-профіль, що дозволяє передавати високоякісний стереозвук на бездротові навушники -- цей профіль називають a2dp (детальніше читаємо у вікіпедії <a href="http://en.wikipedia.org/wiki/A2DP#Advanced_Audio_Distribution_Profile_.28A2DP.29">англійською</a> чи <a href="http://ru.wikipedia.org/wiki/A2DP">російською</a>). компанія microsoft <a href="http://www.theunwired.net/?itemid=2779">мала намір</a> в одному з апгрейдів windows mobile додати таку функціональність -- але згодом чомусь <a href="http://www.engadgetmobile.com/2006/02/16/windows-mobile-5-0-aku2-to-skip-a2dp-stereo-bluetooth/">не зробила цього</a>.<br /><br /><span id="fullpost"></span><br /><a name='more'></a><span id="fullpost">хороші новини: не усіх користувачів dell axim x51v влаштовувала така ситуація з a2dp, та й взагалі куца функціональність bluetooth-стека від microsoft. дехто з цих ентузіастів, маючи досить знань та наснаги, взялися адатувати іншу версію bluetooth-стека, яка використовувалася в усіх пристроях з системою windows mobile 2003 -- версію broadcom; <a href="http://www.aximsite.com/boards/x50-x51-forums/122247-widcomm-axim-x50v-x51v-state-development.html">їм це вдалося</a>, і результат -- <a href="http://btfix.thcgirls.com/BroadcomBluetoothStackX51V05.zip">інсталятор нового стека для x51v</a> -- викладено на форумі <a href="http://www.aximsite.com/boards">aximsite.com</a>.<br /></span><br /><blockquote><span id="fullpost"><span style="color: #cc0000;">важливо! перш ніж встановлювати новий стек на dell axim x51v, прочитайте про його недоліки: пам'ятайте, що такі експерименти ви робите на свій ризик.</span></span></blockquote><span id="fullpost">функціональність broadcom-стека для dell axim x51v відрізняється того, що маємо в стандартній версії від microsoft; єсть особливості, які можуть виявитися критичними для когось із користувачів: нтерфейс багатьох дій з bluettoth (парування пристроїв, відсилання файлів, налаштування тощо) дуже сильно відрізняється від того, як це реалізовано в стеку microsoft: тим, хто звик до своїх кпк з windows mobile 5, користуватися новим стеком може бути просто незручно. наприклад стандартний bluetooth-стек дозволяє відсилати файли через bluetooth або інфрачервоний порт з файл-менеджера через одне меню <span style="font-style: italic;">beam file</span> або <span style="font-style: italic;">send via ir</span>... з broadcom-стеком так не вийде, відсилати файли через bluetooth доведеться у спеціальній програму bluetooth manager. інший недолік: можуть виникати складнощі при з'єднанні кпк з комп'ютером, на якому встановлено систему windows із стандартним менеджером bluetooth від microsoft...<br /><br />з іншої сторони, переваги нового стека можуть бути важливіші: більш гнучке та зрозуміле налаштування bluetooth, в тому числі безпеки з'єднань, можливість зберігати різні варіанти налаштувань, підтримка бездротових навушників. окрім того, новий bluetooth-стек можна після встановлення видалити так само, як будь-яку іншу програму на кпк, через <span style="font-style: italic;">service &gt; system &gt; remove programs</span> -- і після перезавантаження кпк буде відновлено стандартний стек.<span style="color: #cc0000;"></span></span><br /><blockquote style="color: #cc0000;"><span id="fullpost"><span style="color: #cc0000;">важливо! </span>новий broadcom-стек можна за необхідності легко видалити, повернувши стандартний стек від microsoft.</span></blockquote><span id="fullpost">якщо вагання відкинуто, і музику слухати хочеться все ж таки без дротів -- тоді вперед!<br /><br /><span style="font-weight: bold;">1. викачуємо необхідні файли</span><br /></span><br /><ul><span id="fullpost"><li><a href="http://btfix.thcgirls.com/BroadcomBluetoothStackX51V05.zip">інсталятор broadcom-стека</a> (<span style="font-style: italic;">broadcombluetoothstackx51v05.zip</span> -- 3,2 мб)</li><li><a href="http://www.winmobiletech.com/sekalaiset/FlowControlHack.reg">поправка в реєстр</a> (<span style="font-style: italic;">flowcontrolhack.reg</span> -- 1,0 кб)<br /></li></span></ul><span id="fullpost">якщо за поданим посиланням файл не знайдено -- на форумі aximsite.com наведено <a href="http://www.aximsite.com/boards/x50-x51-forums/122247-widcomm-axim-x50v-x51v-state-development.html">перелік альтернативних дзеркал</a>. другий файл -- поправку для реєстру -- можна не викачувати, якщо єсть навички редагування реєстру; ця поправка виправляє можливу проблему із періодичною втратою зв'язку з навушниками.<br /><br /><span style="font-weight: bold;">2. встановлюємо новий стек</span><br />видобуваємо з zip-архіва файл інсталятора (.cab), переносимо його на кпк (через флеш-карту, bluetooth чи activesync), і там запускаємо. встановлюємо обов'язково в пам'ять кпк, а не на карту пам'яті. про всяк випадок тепер краще перезавантажити кпк (<span style="font-style: italic;">soft reset</span>).<br /><br />в результаті отримуємо новий значок bluetooth внизу головного екрану кпк -- цей значок дозволяє увімкнути/вимкнути синьозуба, відкрити менеджер bluetooth або здійснити налаштування. поки що все можна залишити як є.<br /><br /><span style="font-weight: bold;">3. паруємо кпк та навушники</span><br />вмикаємо навушники gear4 в режим парування пристоїв -- для цього, коли навушники вимкнені, тиснемо кнопку вмикання і не відпускаємо, аж поки не почнуть блимати два червоних вогники на лівій слухавці.<br /><br /></span><br /><div style="text-align: center;"><span id="fullpost"><a href="http://1.bp.blogspot.com/_wFmUV6FUCKU/R3ZJJP1Ef5I/AAAAAAAAAqM/SxtIafly9-8/s1600-h/broadcom_002.png" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5149383647161515922" src="http://1.bp.blogspot.com/_wFmUV6FUCKU/R3ZJJP1Ef5I/AAAAAAAAAqM/SxtIafly9-8/s200/broadcom_002.png" style="cursor: pointer;" /></a> <a href="http://4.bp.blogspot.com/_wFmUV6FUCKU/R3ZJa_1Ef6I/AAAAAAAAAqU/qK9h-0b2Sh4/s1600-h/broadcom_003.png" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5149383952104193954" src="http://4.bp.blogspot.com/_wFmUV6FUCKU/R3ZJa_1Ef6I/AAAAAAAAAqU/qK9h-0b2Sh4/s200/broadcom_003.png" style="cursor: pointer;" /></a> <a href="http://2.bp.blogspot.com/_wFmUV6FUCKU/R3ZJpf1Ef7I/AAAAAAAAAqc/nv3XxJW0xVw/s1600-h/broadcom_004.png" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5149384201212297138" src="http://2.bp.blogspot.com/_wFmUV6FUCKU/R3ZJpf1Ef7I/AAAAAAAAAqc/nv3XxJW0xVw/s200/broadcom_004.png" style="cursor: pointer;" /></a></span></div><span id="fullpost"><br /></span><br /><div style="text-align: center;"><span id="fullpost"><a href="http://1.bp.blogspot.com/_wFmUV6FUCKU/R3ZJ3P1Ef8I/AAAAAAAAAqk/XKaWXaDgWG0/s1600-h/broadcom_005.png" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5149384437435498434" src="http://1.bp.blogspot.com/_wFmUV6FUCKU/R3ZJ3P1Ef8I/AAAAAAAAAqk/XKaWXaDgWG0/s200/broadcom_005.png" style="cursor: pointer;" /></a> <a href="http://2.bp.blogspot.com/_wFmUV6FUCKU/R3ZuAf1Ef9I/AAAAAAAAAqs/ZXjZbYVrJfQ/s1600-h/broadcom_006.png" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5149424178767888338" src="http://2.bp.blogspot.com/_wFmUV6FUCKU/R3ZuAf1Ef9I/AAAAAAAAAqs/ZXjZbYVrJfQ/s200/broadcom_006.png" style="cursor: pointer;" /></a> <a href="http://1.bp.blogspot.com/_wFmUV6FUCKU/R3ZuIP1Ef-I/AAAAAAAAAq0/LUIgcUlMwss/s1600-h/broadcom_007.png" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5149424311911874530" src="http://1.bp.blogspot.com/_wFmUV6FUCKU/R3ZuIP1Ef-I/AAAAAAAAAq0/LUIgcUlMwss/s200/broadcom_007.png" style="cursor: pointer;" /></a></span></div><span id="fullpost"><br />тепер вмикаємо bluetooth кишенького пк, і відкриваємо менеджер bluetooth: перша сторінка буде пустою, кпк ще не знає інших пристроїв. тиснемо <span style="font-style: italic;">new</span> -- і у наступному віконці вибираємо пошук бездротових пристроїв аудіовідтворення (<span style="font-style: italic;">high quality audio setup</span>). тиснемо next -- кпк відобразить перелік готових для підключення навушників у радіусі дії модуля bluetooth, -- вибираємо свої навушники. наступний екран: налаштування з'єднання, залишаємо галочки як єсть (створити значок у менеджері bluetooth, використовувати безпечне, зашифроване з'єднання), за бажання редагуємо назву для значка, <span style="font-style: italic;">finish</span>.<br /><br />тепер кпк запитає пароль для доступу до навушників -- так само, як при першому підключення гарнітури до мобільного телефона. пароль зберігається в пам'яті навушників, і його вказано в документації до них. як правило, це якась проста комбінація чотирьох цифр: 0000, 1111 тощо... для gear4 bluphones -- набираємо <span style="font-style: italic;">1234</span>.<br /><br />готово! тепер кпк та навушники "впізнають" одне одного і готові до з'єднання в будь-який момент, коли нам закортить послухати музику.<br /><br /><span style="font-weight: bold;">перевіримо?</span><br />якщо зараз відкрити якийсь музичний файл у програвачі на кишеньковому пк, виявиться, що... нічого не відбувається: так само музика звучить з динаміка кпк. але ось мить магії сучасних технологій: відкриваємо менеджер bluetooth на кпк, двічі "тапаємо" стилусом на значку навушників і... після короктої паузи (кпк з'єднується з навушниками через bluetooth) звук в кпк пропадає -- але тепер звучать навушники.<br /><br />коли вперше надіваєш на голову gear4 bluphones, і прогулюєшся з музикою по кімнаті -- при цьому rgr лежить на столі! -- відчуваєш нарешті, як довго тебе дурили з тими дешевими mp3-програвачами... ось яким має бути програвач!<br /><br />навіть попри те, що звучання портативних слухавок, як правило, далеке не лише від ідеального. це дрібниці. але... що це? чомусь звук пропав! кпк грає, навушники блимають синіми вогниками (працюють) -- але не звучать. це відома проблема версії 1.7.0 broadcom-стеку для axim x51v, і вона виліковна, але для цього потрібен останній штрих налаштування -- невеличка поправочка до реєстру windows mobile на кпк, так звана <span style="font-style: italic;">flow control fix</span>.<br /><br /><span style="font-weight: bold;">4. поправка в реєстр</span><br />отже, у нас є викачаний файл <span style="font-style: italic;">flowcontrolhack.reg</span> -- якщо він ще не на кпк, тепер саме час скопіювати його туди (наприклад, через кардрідер/карту пам'яті, або через activesync) і там запустити. система запитає, чи дійсно треба додати інформацію з файлу до реєстру -- відповідаємо ствердно, тоді перезавантажуємо кпк (<span style="font-style: italic;">soft reset</span>). після цього музика програватиметься без проблем.<br /><br />якщо ж є час, натхнення та цікавість зробити поправочку в реєстрі вручну -- відкриваємо будь-який редактор реєстру, шукаємо розділ такий розділ:<br /></span><br /><blockquote><span id="fullpost">[HKEY_LOCAL_MACHINE\Software\WIDCOMM\BTConfig\SerialTransport]</span></blockquote><span id="fullpost">...і там змінюємо значення параметру FlowControl з 1 на 0.<br /><br />все, навушники працюють.<br /><br /><span style="font-weight: bold;">p.s.</span> традиційно: якщо я десь допустився помилки, або є корисні доповнення -- <a href="http://www.blogger.com/comment.g?blogID=1498862426470895405&amp;postID=1605517805641585853&amp;isPopup=true">пишіть</a>.</span>