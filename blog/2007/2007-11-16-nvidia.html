---
layout: post
title: як... встановити драйвер відеокарти nvidia?
date: '2007-11-16T01:17:00.001+02:00'
author: tivasyk
tags:
- оновлене
- комп'ютери
- linux
modified_time: '2008-07-11T16:41:27.492+03:00'
blogger_id: tag:blogger.com,1999:blog-1498862426470895405.post-8772255982862534119
blogger_orig_url: http://www.tivasyk.info/2007/11/nvidia.html
---

<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://files.opensuse.org/opensuse/en/thumb/a/aa/Nvidia_logo.jpg/400px-Nvidia_logo.jpg"><img style="margin: 0pt 0pt 10px 10px; float: right; cursor: pointer; width: 200px;" src="http://files.opensuse.org/opensuse/en/thumb/a/aa/Nvidia_logo.jpg/400px-Nvidia_logo.jpg" alt="" border="0" /></a>вкотре видаляю та встановлюю драйвер відеокарти nvidia для opensuse linux, і до цього часу доводилося щораз відкривати відповідну сторінку на сайті opensuse, щоби пригадати алгоритм. а перший раз ця -- проста! --- процедура нагадувала мені ті самі "шаманські танці з бубном", і скільки пішло часу на те, щоби знайти, прочитати та зрозуміти якісь інструкції, написані хоча б приблизно людською мовою...<br /><blockquote style="color: rgb(204, 0, 0);"><span style="font-weight: bold;">!</span> описане далі дійсне лише для відеокарт nvidia! якщо маємо карту ati --- шукаємо відповідні інструкції.</blockquote>в користувачів сучасних версій <a href="http://www.opensuse.org/">opensuse</a> (тобто 10.2 й старше) єсть можливість скористатися найпростішим методом --- <a href="http://en.opensuse.org/NVIDIA">встановленням через веб-сайт</a>:<br /><blockquote>1. відриваємо <a href="http://en.opensuse.org/NVIDIA#openSUSE_10.3">сторінку з інструкціями</a> на сайті opensuse<br />2. шукаємо свою відеокарту <a href="http://en.opensuse.org/NVIDIA/Legacy">в переліку старих (legacy) карт</a> --- якщо знаходимо, вибираємо кнопку встановлення відповідного <a href="http://opensuse-community.org/nvidia-legacy.ymp">legacy драйвера</a>, якщо не знаходимо --- вибираємо <a href="http://opensuse-community.org/nvidia.ymp">новий драйвер</a>.<br />3. далі просто спостерігаємо, поки працює менеджер пакунків yast2, котрий викачає з мережі та встановить драйвер.</blockquote>все.<br /><br />але що, коли доступу до інтернету немає, але єсть викачаний прямо з сайту nvidia файл з драйвером? або ж якщо жоден з двох драйверів (новий та legacy) в поточних версіяї не підтримує нашу відеокарту, але драйвер для неї все ж таки знайшовся в архівах там-таки на сайті nvidia?<br /><br />другий метод --- <a href="http://en.opensuse.org/NVIDIA#The_hard_way">використання інсталятора nvidia</a> (файл скрипта з розширенням .run). отже...<br /><br /><span style="font-weight: bold;">1. викачуємо драйвер</span><br />в розділі <a href="http://www.nvidia.com/Download/index.aspx">download drivers</a> веб-сайту nvidia шукаємо драйвер для своєї системи (linux), платформи (32 чи 64 біти) та відеокарти --- уважно читаємо примітки (readme): якщо модель карти не згадується в переліку підтримуваних --- не встановлюємо, інакше після цього доведеться вже по-справжньому "шаманити", щоби знову запустити віконну систему (x-сервер)... якщо все гаразд --- викачуємо драйвер і зберігаємо кудись на жорсткий диск, наприклад прямо в домашню папку (~).<br /><br /><span style="font-weight: bold;">2. переходимо до текстової консолі</span><br />комбінація клавіш <span style="font-style: italic;">ctrl+alt+f1</span> дозволить перейти до першої текстової консолі (<span style="font-style: italic;">ctrl+alt+f7</span> повертає до першого графічного екрану). отже, тиснемо<br /><blockquote  style="font-family:courier new;"><span style="font-size:85%;">ctrl+alt+f1</span></blockquote>і у відповідь на запрошення системи реєструємося адміністратором (<span style="font-style: italic;">root</span>):<br /><blockquote  style="font-family:courier new;"><span style="font-size:85%;">Computer login: root<br />Password: *</span></blockquote>звісно, замість <span style="font-style: italic;">Computer</span> тут буде назва пк, а замість зірочки треба набрати пароль адміністратора.<br /><br /><span style="font-weight: bold;">3. перемикаємо на рівень виконання 3</span><br />для встановлення драйвера необхідно зупинити графічну систему --- x-сервер (ікси). для цього набираємо просту команду <span style="font-style: italic;">init 3</span><br /><blockquote  style="font-family:courier new;"><span style="font-size:85%;">Computer:~ # init 3</span></blockquote>якщо тепер спробуємо повернутися до графічного екрану (<span style="font-style: italic;">ctrl+alt+f7</span>) --- нічого не вийде, х-сервер не працює. нічого не залишається, як рухатися далі =)<br /><br /><span style="font-weight: bold;">4. запускаємо інсталятор</span><br />найперше переходимо до тієї папки, куди збережено файл з інсталятором. для навігації по структурі каталогів єсть команди <span style="font-style: italic;">cd</span> (change directory) --- змінити поточну папку, та <span style="font-style: italic;">ls</span> (list) --- дати перелік файлів у поточній папці. Наприклад, якщо інсталятор збережено в домашній папці користувача pupkin, набираємо таке:<br /><blockquote  style="font-family:courier new;"><span style="font-size:85%;">Computer:~ # cd /home/pupkin<br />Computer:/home/pupkin # ls</span></blockquote>у відповідь отримуємо перелік файлів у домашній теці. нас цікавить інсталятор --- щось типу <span style="font-style: italic;">NVIDIA-Linux-x86-71.86.01-pkg1.run</span>, цифри після позначають платформу та версію і будуть відрізнятися. запускаємо:<br /><blockquote  style="font-family:courier new;"><span style="font-size:85%;">Computer:/home/pupkin # sh NVIDIA-Linux-x86-71.86.01-pkg1.run -q</span></blockquote>звісно, набирати все це руками ліньки --- добре, що не лише нам, але й розробникам оболонки, тому набравши, скажімо, <span style="font-style: italic;">sh NVI</span>, тиснемо <span style="font-style: italic;">Tab</span> --- і система закінчить набір.<br /><br />інсталятор працює досить автономно (опція <span style="font-style: italic;">-q</span> примушує його не задавати користувачеві лишніх запитань), але щонайменше погодитися з ліцензійною угодою (accept) доведеться.<br /><br /><span style="font-weight: bold;">5. відновлюємо рівень виконання 5</span><br />після того, як інсталятор ощасливить успішним завершенням встановлення драйвера, він каже щось про необхідність запустити sax2 для фінального налаштування x-сервера --- не треба цьго робити в opensuse версії 10.2 та вище! просто повертаємося до рівня виконання 5:<br /><blockquote  style="font-family:courier new;"><span style="font-size:85%;">Computer:~ # init 5</span></blockquote>тут маємо побачити звичне графічне запрошення до реєстрації (якщо не включено автореєстрацію --- тоді взагалі попадаємо одразу до своєї робочої стільниці).<br /><br />власне, все. залишиться запустити yast2 (адміністраторські параметри --- конфігуратор opensuse) і перевірити, що дійсно функції тривимірної графіки включено.<br /><br /><br />якщо все це ми зробили, інсталятор нормально встановився, але функції 3d не увімкнулися --- швидше за все, система з якихось причин продовжує використовувати стандартний драйвер без підтримки тривимірної графіки. тоді варто запустити профіль адміністратора, знайти файл <span style="font-style: italic;">xorg.conf</span> у теці <span style="font-style: italic;">/etc/X11</span>, відкрити його простим текстовим редактором (kedit чи kate), знайти там у секції "Device" рядок<br /><blockquote  style="font-family:courier new;"><span style="font-size:85%;">Driver       "nv"</span></blockquote>і замінити його:<br /><blockquote  style="font-family:courier new;"><span style="font-size:85%;">Driver       "nvidia"</span></blockquote>зберігаємо файл і перезапускаємо x-сервер (для цього натискаємо <span style="font-style: italic;">ctrl+alt+backspace</span>). тоді знову перевіряємо, чи увімкнулася підтрика 3d.<br /><br />і ще одна деталь: якщо з якихось причин встановлений драйвер треба вилучити --- вся процедура повторюється, тільки на етапі запуску інсталятора необхідно вказати додаткову опцію:<br /><blockquote  style="font-family:courier new;"><span style="font-size:85%;">Computer:/home/pupkin # sh NVIDIA-Linux-x86-71.86.01-pkg1.run --uninstall<br /></span></blockquote><span style="font-weight: bold;">p.s.</span> до речі, а що ми знаємо про <a href="http://www.vargan.ru/buben/vse/vse_008.shtml">шаманські бубни</a>?