---
layout: post
title: підключення 3g-модема до нетбука з linux mint
date: '2009-09-11T21:17:00.008+03:00'
author: tivasyk
tags:
- оновлене
- інтернет
- комп'ютери
- linux
modified_time: '2013-08-07T12:39:02.903+03:00'
thumbnail: http://4.bp.blogspot.com/_wFmUV6FUCKU/SqkGbL_oUAI/AAAAAAAAF-A/Zhy-iby0Dvs/s72-c/zte_mf100_kyivstar_01.JPG
blogger_id: tag:blogger.com,1999:blog-1498862426470895405.post-3362117642259745558
blogger_orig_url: http://www.tivasyk.info/2009/09/3g-linux-mint.html
---

<a href="http://4.bp.blogspot.com/_wFmUV6FUCKU/SqkGbL_oUAI/AAAAAAAAF-A/Zhy-iby0Dvs/s1600-h/zte_mf100_kyivstar_01.JPG" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5379838294016675842" src="http://4.bp.blogspot.com/_wFmUV6FUCKU/SqkGbL_oUAI/AAAAAAAAF-A/Zhy-iby0Dvs/s200/zte_mf100_kyivstar_01.JPG" style="cursor: pointer; float: right; height: 117px; margin: 0pt 0pt 10px 10px; width: 200px;" /></a>беремося до <a href="http://www.tivasyk.info/2009/09/blog-post_5913.html">підключення модема zte mf100</a> з комплекту «мобільний інтернет» від київстару до нетбука з операційною системою<a href="http://www.tivasyk.info/2009/09/blog-post_9984.html"> linux mint 7</a>.<br /><br />чіткої, достовірної інформації про якусь просту процедуру налаштування zte mf100 в linux нема — принаймні я не знайшов, навіть в англомовних тенетах: модем відносно «свіжий». є декілька рецептів різного ступеня складності, за які навіть мені або страшно, або ліньки було братися.<br /><br />насправді все досить просто, якщо знати «правильну» процедуру. коротко:<br /><ol><li>переключаємо режим роботи модема</li><li>виключаємо запит pin-коду на картці</li><li>встановлюємо gnome'івський аплет для <i>network manager</i>'а</li><li>підключаємо модем і налаштовуємо з'єднання</li></ol><b><span class="Apple-style-span" style="color: #cc0000;">важливо!</span></b> наприкінці допису читайте оновлення! наразі є інші, <a href="http://www.tivasyk.info/2010/08/linux.html">простіші й безпечніші способи «завести» модем</a> під linux’ом.<br /><br /><b><span style="color: #cc0000;">дуже важливо!</span></b> найпростіший спосіб роботи з модемами zte в linux — <a href="http://www.tivasyk.info/2010/09/linux.html" target="_blank">python-скрипт mf100</a>, обов’язково спробуйте найпершим ділом його.<br /><br /><a name='more'></a>тепер детально.<br /><br /><h3><span id="fullpost">переключаємо режим роботи модема</span></h3><span id="fullpost">модеми zte мають цікаву особливість: при першому приєднанні до usb вони підключаються як оптичний дисковод з набором драйверів для windows. це зручно: драйвери автоматично встановлюються, після цього модем розпізнається як модем, і можна працювати.<br /><br />але в linux така схема викликає проблеми: в пам'яті модема нема драйверів для linux, і доводиться шаманити з бубном. власне, це головна проблема. є кілька варіантів її вирішення — різні скрипти, що автоматично переключають режим роботи модема при підключенні, або не дозволяють системі підключити його як оптичний дисковод — і через якийсь час модем розпізнається правильно. але не завжди ці рецепти нормально працюють, і всі вимагають доволі ризикованого колупання в системних файлах.<br /><br />є простіший спосіб — він дозволяє <b>назавжди</b> переключити mf100 в режим модема. щоправда, для цього потрібно знайти в тенетах і завантажити <a href="http://www.google.com.ua/#hl=uk&amp;q=qpst+download">програмний набір qpst від qualcomm</a> (з усього набору знадобиться дві програми: менеджер налашувань <i>qpst configuration</i> та файл-менеджер <i>efs explorer</i>), і знайти комп'ютер з windows, на якому можна один раз використати цю програму. недолік цього методу — не працюватиме вбудований в модем карт-рідер microsd. мені він не потрібен =)<br /><br />отже, на комп'ютері з windows <a href="http://www.x-drivers.com/catalog/flash/mobile_phones/companies/qualcomm/models/qpst/12051.html">завантажую і встановлюю qpst</a>. підключаю модем zte mf100 (можна без sim-карти) до usb. система знайде і встановить драйвери — можна їй не заважати. після цього відкриваю <i>qpst configuration</i>, у списку підключених пристроїв — невідомий «телефон» (<i>unknown</i>), на закладці <i>ports</i> підключено віртуальний порт <i>com5</i>, прив'язаний до usb-пристрою. з меню start clients відкриваю <i>efs explorer</i>.<br /><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><span id="fullpost"><a href="http://3.bp.blogspot.com/_wFmUV6FUCKU/Sqp-xuXsOwI/AAAAAAAAF-I/bsPBtsHDrK0/s1600-h/qpst_01.png" imageanchor="1" style="margin-left: 5px; margin-right: 5px;"><img border="0" src="http://3.bp.blogspot.com/_wFmUV6FUCKU/Sqp-xuXsOwI/AAAAAAAAF-I/bsPBtsHDrK0/s200/qpst_01.png" /></a><a href="http://2.bp.blogspot.com/_wFmUV6FUCKU/Sqp_O61i7kI/AAAAAAAAF-Q/KA1H1pDi248/s1600-h/qpst_02.png" imageanchor="1" style="margin-left: 5px; margin-right: 5px;"><img border="0" src="http://2.bp.blogspot.com/_wFmUV6FUCKU/Sqp_O61i7kI/AAAAAAAAF-Q/KA1H1pDi248/s200/qpst_02.png" /></a><a href="http://3.bp.blogspot.com/_wFmUV6FUCKU/Sqp_Rvg8ZiI/AAAAAAAAF-Y/gnL5R7hmhuk/s1600-h/qpst_03.png" imageanchor="1" style="margin-left: 5px; margin-right: 5px;"><img border="0" src="http://3.bp.blogspot.com/_wFmUV6FUCKU/Sqp_Rvg8ZiI/AAAAAAAAF-Y/gnL5R7hmhuk/s200/qpst_03.png" /></a></span></div><span id="fullpost"><br />в новому вікні вибираю той самий «телефон» unknown, підключений до 5-го com-порту — менеджер покаже перелік файлів у пам'яті модема. потрібно видалити два файли: <i>autorun.flg</i> та <i>nodownload.flg</i>.<br /><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><span id="fullpost"><a href="http://3.bp.blogspot.com/_wFmUV6FUCKU/SqqBY8wTLHI/AAAAAAAAF-g/ejpLmp2xRR0/s1600-h/qpst_04.png" imageanchor="1" style="margin-left: 5px; margin-right: 5px;"><img border="0" src="http://3.bp.blogspot.com/_wFmUV6FUCKU/SqqBY8wTLHI/AAAAAAAAF-g/ejpLmp2xRR0/s200/qpst_04.png" /></a><a href="http://2.bp.blogspot.com/_wFmUV6FUCKU/SqqBdeaQ4sI/AAAAAAAAF-o/uEqRTrIjOM4/s1600-h/qpst_05.png" imageanchor="1" style="margin-left: 5px; margin-right: 5px;"><img border="0" src="http://2.bp.blogspot.com/_wFmUV6FUCKU/SqqBdeaQ4sI/AAAAAAAAF-o/uEqRTrIjOM4/s200/qpst_05.png" /></a></span></div><span id="fullpost"><br />тепер закриваю <i>qpst</i>, модем готовий для підключення до linux'а.<br /><br /><span style="font-weight: bold;">оновлено.</span> на випадок, якщо драйвери для windows таки знадобляться — їх не важко <a href="http://www.kyivstar.net/personal/prepaid/services/modem/">завантажити з сайту київстару</a> (для архів zip; 9,32 мб) та встановити, запустивши одну програму. там же є й інсталяція для macos x.<br /><br /></span><br /><h3><span id="fullpost">виключаємо запит pin-коду</span></h3><span id="fullpost">теоретично gnome-аплет вміє розблоковувати sim-карту pin-кодом щоразу коли модем підключається (працює, перевірено), але... надійніше просто відключити запит pin-коду, вставивши її на хвильку в будь-який мобільний телефон, що знайдеться під рукою.<br /><br />для карток передплаченого зв'язку київстар стандартний pin-код 1111, для контрактних сімок — pin вказаний на великій картці.<br /><br /></span><br /><h3><span id="fullpost">встановлюємо gnome'івський аплет для network meneger'а</span></h3><span id="fullpost">стандартний менеджер мережевих з'єднань для xfce-версії linux mint 7 — <a href="http://en.wikipedia.org/wiki/Wicd_%28Linux_Network_Manager%29">wicd</a>, він простий у використанні, вимагає мінімум ресурсів та не має залежностей з бібліотеками gnome. але абсолютно не вміє підключатися через мобільні телефони та модеми. різні порадники в тенетах пропонують встановлювати з'єднання консольними утилітами на кшалт <i>wvdial</i>.<br /><br /><a href="http://2.bp.blogspot.com/_wFmUV6FUCKU/SqqKY2BuIYI/AAAAAAAAF-w/UlO0MluXCls/s1600-h/linux_mint7_network.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://2.bp.blogspot.com/_wFmUV6FUCKU/SqqKY2BuIYI/AAAAAAAAF-w/UlO0MluXCls/s200/linux_mint7_network.png" /></a>не робіть так, є простіший спосіб: треба замінити <i>wicd</i> на gnome'івський аплет до <a href="http://en.wikipedia.org/wiki/NetworkManager">networkmanager</a>'а. ця програмка буде «сидіти» в системному лотку і дозволить легко підключатися не лише до провідної мережі чи wifi, але й до мобільних мереж.<br /><br />на нетбуці в менеджері програм <i>synaptic</i> шукаю пакунок <i>network-manager</i> (див. скріншот та <a href="http://www.tivasyk.info/2009/06/linux-mint.html">відеопідказку з встановлення програм</a>) і відмічаю для встановлення — система автоматично визначить, які ще пакунки необхідно встановити, і запропонує видалити <i>wicd</i>! погоджуюсь. після завершення завантаження і встановлення перезавантажую linux mint — в системному лотку з'явився значок <i>networkmanager</i>'а, і зник <i>wicd</i>.<br /><br /></span><br /><h3><span id="fullpost">підключаємо модем і налаштовуємо з'єднання</span></h3><span id="fullpost">з цього моменту все має бути елементарно (якщо нетбук завантажився зі стандартним ядром) або принаймні просто (якщо завантажене <a href="http://www.tivasyk.info/2009/09/blog-post_9984.html">ядро kuki чи sickboy</a>). зі стандартним ядром linux mint одразу розпізнає модем, щойно його вставлено в usb! — і одразу запропонує налаштувати нове з'єднання.<br /><br />з нестандартним ядром kuki для aspire one доведеться ручками <a href="http://www.tivasyk.info/2009/06/linux.html">підключити послідовний порт</a> для usb-модема:<br /></span><br /><blockquote><code><span id="fullpost">sudo modprobe usbserial vendor=0x19d2 product=0x0016</span></code></blockquote><span id="fullpost">після цього можна налаштовувати з'єднання — networkmanager його «побачить». але про це напишу вже наступного разу: наразі пізно =)</span><br /><br /><b>оновлення.</b> у колективному блозі <i>enetri.com</i> є допис про <a href="http://beta.enetri.com/2010/04/21/3.html">підключення модема mf100  з київстарівською прошивкою за допомогою програми usb-modeswitch</a>.  потенційно це більш правильний спосіб.<span id="fullpost"> </span><br /><br /><b>оновлення.</b> <a href="http://www.tivasyk.info/2009/09/3g-linux-mint.html?showComment=1282732186210#c8799069311866526900">знайшов</a> у тенетах простий — елементарний — спосіб переключити модем zte mf100 в режим модема програмно, з можливістю повернути режим zerocd пізніше за необхідності… <a href="http://ubuntuforums.org/showthread.php?t=1359410">лише одна at-команда</a>!