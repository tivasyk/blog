---
layout: post
title: ще раз про вундерваффе гномів
date: '2012-07-25T16:26:00.002+03:00'
author: tivasyk
tags:
- комп'ютери
- ігри
- linux
- підказки
- dwarf fortress
modified_time: '2015-11-18T09:36:36.245+02:00'
thumbnail: http://3.bp.blogspot.com/-q-lJDymBwRA/UA_qx3tNAlI/AAAAAAAAPOk/t9VxI3v-edo/s72-c/df_imasurgeon_by_kith_2009_lomo.jpg
blogger_id: tag:blogger.com,1999:blog-1498862426470895405.post-4308213290056463104
blogger_orig_url: http://www.tivasyk.info/2012/07/blog-post_25.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-q-lJDymBwRA/UA_qx3tNAlI/AAAAAAAAPOk/t9VxI3v-edo/s1600/df_imasurgeon_by_kith_2009_lomo.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;" target="_blank"><img border="0" height="150" src="http://3.bp.blogspot.com/-q-lJDymBwRA/UA_qx3tNAlI/AAAAAAAAPOk/t9VxI3v-edo/s200/df_imasurgeon_by_kith_2009_lomo.jpg" width="200" /></a></div>встановивши на ноутбук свіженький <i>linux mint</i>, знову мусив пригадувати, як і звідки встановити <a href="http://www.tivasyk.info/2012/04/losing-is-fun.html" target="_blank">dwarf therapist</a>, а завантаживши нову версію <a href="http://uk.wikipedia.org/wiki/Dwarf_Fortress" target="_blank">dwarf fortress</a> (0.34.11) і побачивши, що дві софтинки щось не хочуть працювати разом, мав шукати ще й вирішення цієї проблеми.<br /><br />встановив, знайшов, вирішив. коротко занотую собі, щоби наступного разу було під рукою; можливо, ще кому стане в нагоді. отже, ще раз про вундерваффе гномів у боротьбі за адамантин…<br /><br /><h2> <a name='more'></a>встановлення dwarf therapist</h2>пристойного сайту в проекту наразі немає, є <a href="http://code.google.com/p/dwarftherapist/wiki/LinuxVersion" target="_blank">кілька сторінок на гуглокоді</a>. серед іншого тут є інформація <a href="http://code.google.com/p/dwarftherapist/wiki/LinuxVersion" target="_blank">про версію dwarf therapist для linux</a> та посилання на два репозиторії для ubuntu (10.04 та 11.10). я спробував наудачу перший — <b>працює в linux mint debian edition</b> (перевіряв з новою версією 201204 та попередньою 201109): софтинка встановлюється і (після короткого танцю з бубном, про це далі) нормально запускається.<br /><br />отже, найперше — відкрити файл з переліком джерел для apt:<br /><blockquote class="tr_bq"><code>sudo nano /etc/apt/sources.list</code></blockquote>додати один рядок:<br /><blockquote class="tr_bq"><code> deb http://dwarftherapist.com/apt lucid universe</code></blockquote>зберегти (<i>ctrl+o</i>), закрити nano (<i>ctrl+x</i>). після цього поновити інформацію про вміст репозиторіїв:<br /><blockquote class="tr_bq"><code>sudo aptitude&nbsp; update (або sudo apt-get update)</code></blockquote>…і встановити dwarf therapist:<br /><blockquote class="tr_bq"><code>sudo aptitude install dwarftherapist</code></blockquote>готово. запускаємо з головного меню — не працює. точніше, може не запуститися. чому? спробував у терміналі, програма позвітувала, що їй бракує бібліотеки libsdl-ttf2.0-0. встановив ручками:<br /><blockquote class="tr_bq"><code>sudo aptitude install libsdl-ttf2.0-0</code></blockquote>після цього все чудово запустилося.<br /><br /><h2> налаштування сумісності з dwarf fortress</h2>запустилося і працювало з версією <i>dwarf fortress</i> 0.31.25, якою я користувався раніше. але, зваблений <a href="http://www.bay12games.com/dwarves/index.html#R2012-06-04" target="_blank">покращеннями в новій версії</a> 0.34.11, я завантажив поновлення. і після цього вундерваффе відмовилося працювати.<br /><br />як виявилося, не біда. достатньо завантажити маленький <a href="http://code.google.com/p/dwarftherapist/source/browse/#hg%2Fetc%2Fmemory_layouts%2Flinux" target="_blank">файл з інформацією про розташування данних в пам’яті</a> <i>dwarf fortress</i> відповідної версії (в моєму випадку це <i>v0.34.11.ini</i>), і закинути його в теку dwarf therapist. ну, якось так (не тестував саме цю команду, думайте):<br /><blockquote class="tr_bq"><code>sudo wget -c -O "/usr/share/dwarftherapist/etc/memory_layouts/linux/v0.34.11.ini" http://dwarftherapist.googlecode.com/hg/etc/memory_layouts/linux/v0.34.11.ini</code></blockquote>ясна справа, краще перевірити, де саме знаходиться <i>dwarf therapist</i>, і завантажувати спершу в домашню теку.<br /><br />це все: після перезапуску <i>dwarf therapist</i> повинен дозволити нормально керувати гномами в <i>dwarf fortress</i>.<br /><br /><b>p.s.</b> інші дописи про dwarf fortress:<br /><ul><li><a href="http://www.tivasyk.info/2012/03/blog-post_31.html" target="_blank">ель тектиме рікою</a> (31 березня 2012)</li><li><a href="http://www.tivasyk.info/2012/04/losing-is-fun.html" target="_blank">losing is fun</a> (2 квітня 2012)</li><li><a href="http://www.tivasyk.info/2012/04/blog-post.html" target="_blank">підлітки, котрі ще не забавлялися…</a> (3 квітня 2012)</li><li><a href="http://www.tivasyk.info/2012/04/dwarf-therapist.html" target="_blank">беру dwarf therapist в дорогу</a> (13 квітня 2012)</li></ul><br />(c) за ілюстрацію взяв фрагмент малюнка kith <a href="http://lparchive.org/Dwarf-Fortress-Syrupleaf/Update%20117/" target="_blank">з архівів фортеці syrupleaf</a>.