---
layout: post
title: curlftpfs для монтування ftp в локальну теку
date: '2013-11-13T21:35:00.001+02:00'
author: tivasyk
tags:
- комп'ютери
- linux
- підказки
modified_time: '2013-11-13T21:35:09.206+02:00'
thumbnail: http://2.bp.blogspot.com/-PQaZYHOHuJw/UoEteQhurkI/AAAAAAAAZK4/SuHUpfdEvYw/s72-c/pb_netstore_3500.jpg
blogger_id: tag:blogger.com,1999:blog-1498862426470895405.post-8941676387156119057
blogger_orig_url: http://www.tivasyk.info/2013/11/curlftpfs-ftp.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-PQaZYHOHuJw/UoEteQhurkI/AAAAAAAAZK4/SuHUpfdEvYw/s1600/pb_netstore_3500.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="146" src="http://2.bp.blogspot.com/-PQaZYHOHuJw/UoEteQhurkI/AAAAAAAAZK4/SuHUpfdEvYw/s200/pb_netstore_3500.jpg" width="200" /></a></div>мав собі віддавна в господарстві таку от цікаву штуку: <a href="http://ramzess.ru/obzor-packard-bell-netstore-3500-nas-za-simvolicheskuyu-cenu/" target="_blank">packard bell netstore 3500</a>. це <b>кишеня для жорсткого диска</b> ide, трішки незвична тим, що… має мережевий інтерфейс і може виконувати функції мережевого файлового накопичувача, якщо підключити, скажімо, до рутера.<br /><br />коштувало це щастя якихось смішних грошей ($10 чи 15 без диска), і купував я його <b>два чи три роки тому</b> не як nas, а лише щоби «порятувати» старий диск на 320 гб, що лежав без діла, — використовуючи його через usb як зовнішній накопичувач.<br /><br />лише днями підключив коротким пачкордом до рутера… працює: дає доступ до диска по ftp, дозволяє налаштувати доступ для кількох користувачів, кожному зі своїм паролем та (за необхідності) до своєї теки. що ще треба?<br /><br />хіба що навчитися <a href="https://wiki.archlinux.org/index.php/Mount_FTP" target="_blank">монтувати nas в локальну теку</a>?<br /><br /><a name='more'></a>в linux просту вуличну магію забезпечує <a href="http://linux.die.net/man/1/curlftpfs" target="_blank">curlftpfs</a>; crunchbang не має її «з коробки», але програма є в репах debian:<br /><blockquote class="tr_bq"><code>sudo apt-get install curlftpfs</code></blockquote>використання curlftpfs в простішому випадку подібне до <i>mount</i>. для початку потрібна тека, куди монтуватиметься вміст ftp:<br /><blockquote class="tr_bq"><code>mkdir ~/Netstore</code> </blockquote>підключаємо ftp:<br /><blockquote class="tr_bq"><code>curlftpfs 192.168.0.3/PUBLIC ~/Netstore -o user=pupkin:qwerty</code></blockquote>логін (<i>pupkin</i>) та пароль (<i>qwerty</i>) — ті, що налаштовані на ftp, звісно ж. втім. такий варіаннт підходить лише для тестування: зручніше і безпечніше створити в домашній теці файл <i>.netrc</i>:<br /><blockquote class="tr_bq"><code>nano ~/.netrc</code></blockquote>…додати туди інформацію про машину, логін та пароль:<br /><blockquote class="tr_bq"><code>machine 192.168.0.3<br />login pupkin<br />password qwerty</code></blockquote>…і максимально обмежити права доступу:<br /><blockquote class="tr_bq"><code>chmod 600 ~/.netrc</code></blockquote>тепер явний параметр <i>user=</i> для curlftpfs можна опустити. можливо, доведеться вказати кодову сторінку (<i>utf8</i>). команда монтування виглядатиме так:<br /><blockquote class="tr_bq"><code>curlftpfs 192.168.0.3/PUBLIC ~/Netstore -o utf8</code></blockquote>відмонтовуться ftp так:<br /><blockquote class="tr_bq"><code>fusermount -u ~/Netstore</code></blockquote>кажуть, що включивши curlftpfs до <i>/etc/fstab</i>, можна отримати автоматине монтування ftp на старті системи… але з цим я поекспериментую за іншим разом.